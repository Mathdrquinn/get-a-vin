{"version":3,"file":"static/webpack/static/development/pages/index.js.76c2b289c1348a0e903e.hot-update.js","sources":["webpack:///./pages/index.jsx"],"sourcesContent":["import React from 'react';\nimport copyToClipboard from 'copy-to-clipboard';\nimport { getRandomVin } from '../data/vins.js';\nimport { NotificationBar } from '../components/NotificationBar.jsx';\nimport axios from 'axios';\n\nconst getVehicleByVin = (vin) => axios.get(`https://vpic.nhtsa.dot.gov/api/vehicles/DecodeVinExtended/${vin}?format=json`)\n    .then(resp => resp.data.Results\n        .filter(r => r.Variable)\n        .filter(r => r.Value))\n    .then(results => results.reduce((sum, r) => ({ ...sum, [r.Variable]: r.Value }), {}))\n\nclass Index extends React.Component {\n    state = {\n        vins: { [getRandomVin()]: null },\n    };\n\n    constructor(props) {\n        super(props);\n        this.onSubmit = this.onSubmit.bind(this);\n        this.copyVin = this.copyVin.bind(this);\n        this.getVins = this.getVins.bind(this);\n    }\n\n    componentDidMount() {\n        const vin = this.getVins()[0];\n        getVehicleByVin(vin)\n            .then(vehicleInfo => {\n                this.setState({ vins: { [vin]: vehicleInfo } });\n            })\n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n        const vin = getRandomVin();\n        getVehicleByVin(vin)\n            .then(vehicleInfo => {\n                this.setState({ vins: { [vin]: vehicleInfo, ...this.state.vins } });\n            })\n            .then(() => copyToClipboard(vin));\n    }\n\n    copyVin() {\n        copyToClipboard(this.getVins()[0]);\n    }\n\n    getVins() {\n        return Object.keys(this.state.vins);\n    }\n\n    render() {\n        return (\n            <main id=\"main\">\n                <h1>Generate a <abbr title=\"Vehicle Identification Number\">VIN</abbr></h1>\n                <p>Making it easy to generate and copy <abbr title=\"Vehicle Identification Numbers\">VINs</abbr></p>\n\n                <form onSubmit={this.onSubmit}>\n                    <h2 aria-live=\"polite\">Result: <em>{this.getVins()[0]}</em></h2>\n                    <button type=\"button\" onClick={this.copyVin}>Copy to Clipboard</button>\n                    <button type=\"submit\">Get and Copy new VIN</button>\n                    <h3>Vehicle Info</h3>\n                    <pre><code>{JSON.stringify(this.state.vins[this.getVins()[0]], null, 4)}</code></pre>\n                </form>\n\n                {\n                    this.getVins().length > 1\n                    ? (\n                        <section>\n                            <h2>History</h2>\n                            <dl>\n                                {this.getVins().slice(1).map((v) => (\n                                    <>\n                                        <dt key={`${v}-term`}>\n                                            {v}\n                                        </dt>\n                                        <dd key={`${v}-definition`}>\n                                            <pre><code>{JSON.stringify(this.state.vins[v], null, 4)}</code></pre>\n                                        </dd>\n                                    </>\n                                ))}\n                            </dl>\n                        </section>\n                    )\n                    : null\n                }\n            </main>\n        );\n    }\n}\n\nexport default Index;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAFA;AAGA;AAAA;AAAA;AAAA;AAJA;AACA;AAKA;;;;;AAKA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAHA;AADA;AACA;AAKA;AACA;AACA;AAJA;AAKA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AANA;AAiBA;;;;AA3EA;AACA;AA6EA;;;;A","sourceRoot":""}